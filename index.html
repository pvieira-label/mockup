<!DOCTYPE html>
<html>
<head>
	<title>Delta Q Testes</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

	<style href="flexslider.css">
	<style>
		video {
			position: absolute;
			top: 0px;
			left: 0px;
			z-index: 100;
		}

		.flexslider {
			z-index: 1;
		}
	</style>
	  <!-- jQuery -->
  	<script src="jquery-3.1.0.min.js"></script>
	<script src="jquery.flexslider-min.js"></script>
</head>
<body>
	<div class="flexslider">
		<ul class="slides">
			<li>
				<img src="slide1.png" />
			</li><li>
				<img src="slide2.png" />
			</li><li>
				<img src="slide3.png" />
			</li><li>
				<img src="slide4.png" />
			</li>
		</ul>
	</div>
	<video width="100%" height="auto" autoplay></video>
	<script>

			var errorCallback = function(e) {
				alert("Fui rejeitado. :'(");				
			};			

			navigator.getUserMedia  = navigator.getUserMedia ||
                          navigator.webkitGetUserMedia ||
                          navigator.mozGetUserMedia ||
                          navigator.msGetUserMedia;

		if (navigator.getUserMedia) {
			function gotSources(sourceInfos) {
				var videoSource = "",
					video = document.querySelector('video');					

				for (var i = 0; i !== sourceInfos.length; ++i) {
					var sourceInfo = sourceInfos[i];
					if (sourceInfo.kind === 'video') {
						videoSource = sourceInfo.id;
					}
				}	

				var hdConstraints = {
						video: {
							mandatory: {
								minWidth: 1280,
								minHeight: 720
							},
							optional: [{
								sourceId: videoSource
							}]
						}
					};

				navigator.getUserMedia(
					hdConstraints, 
					function(stream) {
			    		video.src = window.URL.createObjectURL(stream);
			  		}, 
			  		errorCallback
			  	);
			}

			MediaStreamTrack.getSources(gotSources);
		
		} else {
			alert("browser não suporta API")
		}
			

		$(window).load(function() {
			$('.flexslider').flexslider({
		    	animation: "slide"
		  	});
		});

	</script>
</body>
</html>