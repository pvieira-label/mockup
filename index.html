<!DOCTYPE html>
<html>
<head>
	<title>Delta Q Testes</title>

	<style>
		img {
			position: absolute;
			top: 100px;
			left: 50px;
			z-index: 100;
		}

		video {
			z-index: 1;
		}
	</style>
</head>
<body>
	<img src="arrow.png">
	<video autoplay></video>
	<script>

			var errorCallback = function(e) {
				alert("Fui rejeitado. :'(");				
			};			

			navigator.getUserMedia  = navigator.getUserMedia ||
                          navigator.webkitGetUserMedia ||
                          navigator.mozGetUserMedia ||
                          navigator.msGetUserMedia;

		if (navigator.getUserMedia) {
			function gotSources(sourceInfos) {
				var videoSource = "",
					video = document.querySelector('video');					

				for (var i = 0; i !== sourceInfos.length; ++i) {
					var sourceInfo = sourceInfos[i];
					if (sourceInfo.kind === 'video') {
						videoSource = sourceInfo.id;
					}
				}	
/*
				var hdConstraints = {
						video: {
							mandatory: {
								minWidth: 1280,
								minHeight: 720
							},
							optional: [{
								sourceId: videoSource
							}]
						}
					};
*/
				var hdConstraints = {
					video: {
				      optional: [{
				        sourceId: videoSource
				      }]
				    }
				}

				navigator.getUserMedia(
					hdConstraints, 
					function(stream) {
			    		video.src = window.URL.createObjectURL(stream);
			  		}, 
			  		errorCallback
			  	);
			}

			MediaStreamTrack.getSources(gotSources);
		
		} else {
			alert("browser não suporta API")
		}
			
	</script>
</body>
</html>